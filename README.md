# MyDB
MyDB 是一个用Java 实现的简单的数据库，实现了一个关系型数据库的基本功能。



## 前言

本项目借鉴 [@何人听我楚狂声](https://www.nowcoder.com/discuss/926763) 大佬，部分原理参照MySQL、PostgreSQL和 SQLite

我也想动手做一个MyDB，实现一个数据库轮子加深印象，又可以给自己的简历加点内容。



<br>

## 项目介绍



MyDB 分为后端和前端（通过socket交互）：

- 前端（客户端）的职责很单一，读取用户输入，并发送到后端执行，输出返回结果，并等待下一次输入。
-  后端则需要解析 SQL，如果是合法的 SQL，就尝试执行并返回结果。MYDB 的后端划分为五个模块，每个模块都又一定的职责，通过接口向其依赖的模块提供方法。五个模块如下：  

![](https://cdn.jsdelivr.net/gh/echoxxzhang/blog_img/img/20220702153452.png)

模块分别负责以下内容：

> TM 通过维护 XID 文件来维护事务的状态，并提供接口供其他模块来查询某个事务的状态。
>
>  DM 直接管理数据库 DB 文件和日志文件。DM 的主要职责有：
>
> ​		1) 分页管理 DB 文件，并进行缓存；
>
> ​		2) 管理日志文件，保证在发生错误时可以根据日志进行恢复；
>
> ​		3) 抽象 DB 文件为 DataItem 供上层模块使用，并提供缓存。
>
>  VM 基于两段锁协议实现了调度序列的可串行化，并实现了 MVCC 以消除读写阻塞。同时实现了两种隔离级别。 
>
> IM 实现了基于 B+ 树的索引。
>
> TBM 实现了对字段和表的管理。同时，解析 SQL 语句，并根据语句操作表。  



<br>

## 运行项目